{% extends "base.html" %}
{% import "/_macros.html" as macros %}
{% block title %} User {% endblock %}

{% block page_content %}
<div class="container navbar-default"style="height:100%;padding-top:120px;">
    <div style="margin-left:30%;background-color:#ff0000;height:100%;width:200px;float:left;">
        <img src="{{ url_for('static', filename='headicon/'+user.headicon_url) }}" style="width:200px">
        <p align="center">
            {% if user.role.name == 'Teacher' %}
            teacher
            {% else %}
            student
            {% endif %}
        </p>
    </div>
    <div style="padding-left:5%;background-color:#FFD700;height:100%;width:30%;float:left;">
        <p>nickname:{{ user.nickname }}</p>
        <P>Location:{{ user.location }}</P>
        <P>
            about_me:{{ user.about_me }}
        </P>
        <p>email:{{ user.email }}</p>
        <!-- 只有自己才能修改 -->
        {% if user.id == current_user.id %}
        <a href="{{ url_for('main.edit_profile') }}" class="btn btn-default">修改</a>
        {% endif %}
    </div>
    <div style="padding-top:200px">
        {% for each in posts %}
            <div style="padding-top:60px;padding-bottom:30px;">
                <div class="media-left">
                    <a href="#"><img src="{{ url_for('static', filename=('headicon/'+each.author.headicon_url)) }}" class="media-object" style="width:55px"></a>
                </div>
                <div class="media-body">
                    <a href="#"><h5 class="media-heading">{{ each.author.nickname }}</h5></a>
                    {% if each.body_html %}
                    {{ each.body_html | safe }}
                    {% else %}
                    {{ each.body }}
                    {% endif %}
                    <p>{{ each.timestamp }}</p>

                </div>
                <button type="button" class="btn btn-default btn-sm col-xs-6">like</button>
                <button type="button" class="btn btn-default btn-sm col-xs-6">comment</button>
            </div>
        {% endfor %}
    </div>
    <div class="pagination" style="padding-left:45%">
        {{ macros.pagination_widget(pagination, 'main.user', email=user.email) }}
    </div>
</div>
{% endblock %}
